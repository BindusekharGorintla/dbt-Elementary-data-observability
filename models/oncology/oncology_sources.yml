version: 2

sources:

  - name: oncology_databricks
    catalog: "{{ var('oncology_src_catalog')}}"
    schema: "{{ var('oncology_src_schema')}}"
    tables:
      - name: canc_patient
        config: 
          tags: ["oncology"]
        columns:
        - name: patient_id
          description: "patient_id"
          tests:
            - duplicates_check
            - not_null
          - name: date_of_birth
          description: "date_of_birth"
          tests:
            - not_null
        - name: tnm_stg_system
          description: "tnm_stg_system"
          tests:
            - Column_date_value_not_null
            - comparison_min_max_dates
            - comparison_completion_rates_distinct_cnts
            - duplicates_check
        - name: observation
          description: "observation"
          tests:
            - column_values_to_not_be_in_set: {'input_value' : No Data Row}
        - name: lab_observation
          description: "lab_observation"
          tests:
            - duplicates_check
        - name: biomarker
          description: "biomarker"
          tests:
            - duplicates_check
        - name: claims
          description: "claims"
          tests:
            - column_values_to_not_be_in_set: {'input_value' : No Data Row}
            - duplicates_check
            
 
